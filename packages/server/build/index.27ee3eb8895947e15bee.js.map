{"version":3,"file":"index.700434548a471a204bc0.hot-update.js","sources":["/Users/austinreynolds/Documents/MOD/chf-rcomm/packages/client/src/modules/home/components/HomeView.web.jsx","/Users/austinreynolds/Documents/MOD/chf-rcomm/packages/client/src/modules/user/index.web.jsx"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport Helmet from 'react-helmet';\nimport { Link } from 'react-router-dom';\nimport _ from 'lodash';\nimport {\n  PageLayout,\n  ScrollToTop,\n  Hero,\n  VideoText,\n  ImageText,\n  FeaturedVendors,\n  VendorList\n  // InfoBanner\n} from '../../common/components/global';\nimport HomeVendors from './HomeVendors';\nimport HomeBranding from './HomeBranding';\nimport ServiceSlug from './ServiceSlug';\nimport PopularItemsCarousel from './PopularItemsCarousel';\nimport HeroCarousel from './Carousel';\n\nimport settings from '../../../../../../settings';\nimport '../styles/home-view.scss';\n\nconst filterFields = (fields, fieldName) =>\n  fields.find(field => field.fieldName === fieldName) !== undefined\n    ? fields.filter(field => field.fieldName === fieldName)[0].fieldValue\n    : '';\n\nconst renderMetaData = () => (\n  <Helmet\n    title={`Quality Home Fitness Equipment - ${settings.app.name}`}\n    meta={[\n      {\n        name: 'description',\n        content: `CA Home Fitness offers the best brands in home fitness equipment at the guaranteed best prices, including treadmills, ellipticals, bikes, and much more. `\n      },\n      {\n        name: 'keywords',\n        content: `Treadmill, Elliptical machines, Cross Trainer, Exercise Bike, Home Gym, Rower, Commercial Equipment, Life Fitness, Precor, Spirit Fitness, Inspire Fitness, GoFit, Helix`\n      }\n    ]}\n  />\n);\n\nclass HomeView extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      carouselActive: false,\n      images: new Map(),\n      defaultImage: {\n        name: 'California Home Fitness',\n        link: 'https://s3-us-west-2.amazonaws.com/chf-rcomm/home_hero-v2.png'\n      }\n    };\n  }\n  componentDidMount() {\n    const { location } = this.props;\n    if (location && location.hasOwnProperty('state') && typeof location.state !== 'undefined') {\n      if ('referrer' in location.state) {\n        const { referrer } = location.state;\n        //TODO: Replace alert with modal or other notification\n        if (referrer == 'signup-success') window.alert(`Congratulations - you've successfully registered your account`);\n        else if (referrer === 'login-success') window.alert(`You've successfully logged in!`);\n      }\n    }\n  }\n  componentDidUpdate(prevProps, prevState) {\n    if (this.props.page !== prevProps.page) {\n      const { fields } = this.props.page;\n      const data = JSON.parse(fields[0].field_value);\n      // console.log('FIELDS::', data);\n      const { images, carouselActive } = data;\n      const carouselImages = new Map([...images]);\n      const firstImgKey = carouselImages.keys().next().value;\n      const firstImage = carouselImages.get(firstImgKey);\n      const defaultImage = { name: firstImage.name, link: firstImage.url };\n      // console.log('FIST::', defaultImage);\n      // for (var [key, value] of carouselImages.entries()) {\n      //   console.log('KEY::', key);\n      //   console.log('VALUE::', value);\n      // }\n      console.log('WHAT THE FUCKK::', data);\n      return this.setState({ images: carouselImages, carouselActive, defaultImage });\n    }\n  }\n  filterVendors = filter => {\n    if (filter === 'topSix') {\n      const filtered = this.props.vendors.filter(v => v.is_top_six);\n      return _.orderBy(filtered, ['top_six_position'], ['asc']);\n    }\n    if (filter === 'featured') return this.props.vendors.filter(v => v.is_featured);\n  };\n  render() {\n    const { homeGymsImage, commercialGymsImage, loading, sfy_shop, vendors } = this.props;\n    const { carouselActive, images, defaultImage } = this.state;\n    console.log('THE STATE:::', this.state);\n    if (loading || !sfy_shop || !vendors) {\n      return (\n        <PageLayout>\n          {renderMetaData()}\n          <Hero overlayNav={false} image={defaultImage} />\n          {/* <div>Loading...</div> */}\n        </PageLayout>\n      );\n    }\n    return (\n      <PageLayout>\n        {renderMetaData()}\n        <ScrollToTop />\n        {carouselActive ? (\n          <HeroCarousel overlayNav={false} images={images} />\n        ) : (\n          <Hero overlayNav={false} image={defaultImage} />\n        )}\n        <div className=\"home-view\">\n          <HomeVendors />\n          <div className=\"home-view__content-container\">\n            <div className=\"home-view__popular-container\">\n              <h2 className=\"header header--primary header--upper header--centered home-view__header\">Popular Items</h2>\n              <PopularItemsCarousel products={sfy_shop.products} vendors={vendors} />\n            </div>\n            <div className=\"home-view__video-container\">\n              <VideoText videoSide=\"left\" videoLink=\"https://www.youtube.com/embed/pEl3zYnH7FY\" iframeVideo={true}>\n                <h3 className=\"header header--secondary video-text__header\">Customer Oriented</h3>\n                <p className=\"video-text__text\">\n                  We pride ourselves on building strong relationships with our clientele by always being there for them.\n                  From the initial contact, through product selection, purchase, delivery, installation as well as use\n                  and maintenance, we want to always make sure that their needs are being met.\n                </p>\n              </VideoText>\n            </div>\n            <div className=\"home-view__image-container\">\n              <ImageText imagePosition=\"bottom\" imageOverflow=\"left\" image={homeGymsImage} shadow={false}>\n                <span className=\"header header--secondary header--upper image-text__header\">Home Gym</span>\n                <span> - </span>\n                <p className=\"image-text__text\">\n                  We are the authorized dealer for the top brands in the industry such as Precor, Life Fitness, Inspire\n                  and others. We bring gym quality equipment into your home appropriate to each customerâ€™s unique goals,\n                  lifestyle, and budget.\n                </p>\n              </ImageText>\n              <ImageText imagePosition=\"top\" imageOverflow=\"right\" image={commercialGymsImage} shadow={true}>\n                <span className=\"header header--secondary header--upper image-text__header\">Commercial Gym</span>\n                <span> - </span>\n                <p className=\"image-text__text\">\n                  California Home Fitness offers high quality, practical products for a variety of commercial\n                  environments. Our reliable products look great, are easy to use, and will increase the longevity of\n                  your office, multi-family, school, fire, police, studio, club, or hospitality facility.\n                </p>\n              </ImageText>\n            </div>\n            <div className=\"home-view__vendor-container\">\n              <h2 className=\"header header--primary header--upper header--centered home-view__header\">\n                Vendor Section\n              </h2>\n              <div className=\"home-view__vendor-card\">\n                <FeaturedVendors vendors={this.filterVendors('featured')} />\n                <VendorList vendors={this.filterVendors('topSix')} />\n                <Link\n                  to=\"/brands\"\n                  className=\"header header--primary header--lower header--centered home-view__vendors-link\"\n                >\n                  see more\n                </Link>\n              </div>\n            </div>\n            <div className=\"home-view__service-slug\">\n              <ServiceSlug />\n            </div>\n          </div>\n          <div className=\"home-view__home-branding\">\n            <HomeBranding />\n          </div>\n        </div>\n      </PageLayout>\n    );\n  }\n}\n\nHomeView.defaultProps = {\n  heroImage: {\n    name: 'California Home Fitness',\n    link: 'https://s3-us-west-2.amazonaws.com/chf-rcomm/home_hero-v2.png'\n  },\n  homeGymsImage: {\n    name: 'Home Gyms',\n    link: 'https://s3-us-west-2.amazonaws.com/chf-rcomm/home_homegym.png'\n  },\n  commercialGymsImage: {\n    name: 'Commercial Gyms',\n    link: 'https://s3-us-west-2.amazonaws.com/chf-rcomm/home_commercialgym.png'\n  }\n};\nHomeView.propTypes = {\n  heroImage: PropTypes.object,\n  homeGymsImage: PropTypes.object,\n  commercialGymsImage: PropTypes.object,\n  location: PropTypes.object,\n  loading: PropTypes.bool,\n  sfy_shop: PropTypes.object,\n  vendors: PropTypes.array\n};\n\nexport default HomeView;\n","import React from 'react';\nimport { CookiesProvider } from 'react-cookie';\nimport { NavLink, withRouter } from 'react-router-dom';\n\nimport translate from '../../i18n';\nimport access from './access';\nimport resolvers from './resolvers';\nimport resources from './locales';\n// import ProfileView from './components/ProfileView';\nimport { MenuItem } from '../../modules/common/components/web';\n// import Users from './containers/Users';\n// import UserEdit from './containers/UserEdit';\n// import UserAdd from './containers/UserAdd';\nimport Register from './containers/Register';\nimport Login from './containers/Login';\n// import ForgotPassword from './containers/ForgotPassword';\n// import ResetPassword from './containers/ResetPassword';\n\nimport { AuthRoute, IfLoggedIn, IfNotLoggedIn, /*withLoadedUser,*/ withLogout } from './containers/Auth';\n\nimport Feature from '../connector';\n\n// const ProfileName = withLoadedUser(\n//   ({ currentUser }) => (currentUser ? currentUser.fullName || currentUser.username : null)\n// );\n\nconst LogoutLink = withRouter(\n  withLogout(({ logout, history }) => (\n    <a\n      href=\"javascript:void(0)\"\n      onClick={e => {\n        e.preventDefault();\n        (async () => {\n          await logout();\n          history.push('/');\n        })();\n      }}\n      className=\"nav-link\"\n    >\n      Logout\n    </a>\n  ))\n);\n\nexport * from './containers/Auth';\n\nconst NavLinkUsersWithI18n = translate('user')(({ t }) => (\n  <NavLink to=\"/users\" className=\"nav-link\" activeClassName=\"active\">\n    {t('navLink.users')}\n  </NavLink>\n));\nconst NavLinkLoginWithI18n = translate('user')(({ t }) => (\n  <NavLink to=\"/login\" className=\"nav-link\" activeClassName=\"active\">\n    {t('navLink.sign')}\n  </NavLink>\n));\n\nexport default new Feature(access, {\n  route: [\n    // <AuthRoute exact path=\"/profile\" role={['user', 'admin']} redirect=\"/login\" component={ProfileView} />,\n    // <AuthRoute exact path=\"/users\" redirect=\"/profile\" role=\"admin\" component={Users} />,\n    // <AuthRoute exact path=\"/users/new\" role={['admin']} component={UserAdd} />,\n    // <AuthRoute path=\"/users/:id\" redirect=\"/profile\" role={['user', 'admin']} component={UserEdit} />,\n    <AuthRoute exact path=\"/register\" redirectOnLoggedIn redirect=\"/admin/dashboard\" component={Register} />,\n    <AuthRoute\n      exact\n      path=\"/admin/login\"\n      redirectOnLoggedIn\n      redirect=\"/admin/dashboard\"\n      component={withRouter(({ history }) => (\n        <Login onLogin={() => history.push('/admin/dashboard')} />\n      ))}\n    />,\n    // <AuthRoute exact path=\"/forgot-password\" redirectOnLoggedIn redirect=\"/profile\" component={ForgotPassword} />,\n    // <AuthRoute exact path=\"/reset-password/:token\" redirectOnLoggedIn redirect=\"/profile\" component={ResetPassword} />\n  ],\n  // navItem: [\n  //   <IfLoggedIn key=\"/users\" role=\"admin\">\n  //     <MenuItem>\n  //       <NavLinkUsersWithI18n />\n  //     </MenuItem>\n  //   </IfLoggedIn>\n  // ],\n  // navItemRight: [\n  //   // <IfLoggedIn key=\"/profile\">\n  //   //   <MenuItem>\n  //   //     <NavLink to=\"/profile\" className=\"nav-link\" activeClassName=\"active\">\n  //   //       <ProfileName />\n  //   //     </NavLink>\n  //   //   </MenuItem>\n  //   // </IfLoggedIn>,\n  //   <IfLoggedIn key=\"/logout\">\n  //     <MenuItem>\n  //       <LogoutLink />\n  //     </MenuItem>\n  //   </IfLoggedIn>,\n  //   <IfNotLoggedIn key=\"/login\">\n  //     <MenuItem>\n  //       <NavLinkLoginWithI18n />\n  //     </MenuItem>\n  //   </IfNotLoggedIn>\n  // ],\n  resolver: resolvers,\n  localization: { ns: 'user', resources },\n  // eslint-disable-next-line react/display-name\n  rootComponentFactory: req => (req ? <CookiesProvider cookies={req.universalCookies} /> : <CookiesProvider />)\n});\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAFA;AACA;AAIA;AAAA;AAEA;AACA;AAEA;AACA;AAFA;AAKA;AACA;AAFA;AAPA;AADA;AACA;AAeA;;;AACA;AAAA;AACA;AADA;AACA;AADA;AA0CA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AA9CA;AACA;AACA;AACA;AACA;AACA;AAFA;AAHA;AAFA;AAUA;AACA;;;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAEA;AACA;AAAA;AAEA;AACA;AACA;;;AACA;AACA;AAAA;AACA;AACA;AACA;AAHA;AAAA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAQA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AAAA;AACA;AACA;AAFA;AAMA;AACA;AACA;AAAA;AACA;AACA;AACA;AAKA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAFA;AAIA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAFA;AADA;AAUA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAHA;AASA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAHA;AAVA;AAoBA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAFA;AAAA;AAAA;AAHA;AAJA;AAeA;AAAA;AAAA;AACA;AADA;AAlDA;AAsDA;AAAA;AAAA;AACA;AADA;AAxDA;AARA;AAsEA;;;;AArIA;AACA;AAuIA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAFA;AATA;AAcA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AACA;AASA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC7MA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAEA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AATA;AAAA;AAAA;AADA;AACA;AAgBA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AADA;AADA;AAKA;AAAA;AAAA;AACA;AAAA;AACA;AADA;AADA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AADA;AALA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAhDA;;;;A","sourceRoot":""}