{"version":3,"file":"index.fe187a4e222a966ade5a.hot-update.js","sources":["/Users/austinreynolds/Documents/MOD/chf-rcomm/packages/client/src/modules/admin/components/SiteMap/index.jsx","/Users/austinreynolds/Documents/MOD/chf-rcomm/packages/client/src/modules/user/index.web.jsx"],"sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { paramsApplier as applyParams } from 'react-router-sitemap';\n\nimport PRODUCTS_QUERY from '../../graphql/SiteMapProds.graphql';\n\n// const paths = ['/products/:category', '/products/brands/:vendor_name', '/product/:vendor_name/:product_name/:category']\n\nexport default class SiteMapGenerator extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n  componentDidMount() {\n    console.log('THIS SITE MAP PROPS::', this.props);\n  }\n  componentDidUpdate(prevProps, prevState) {\n    console.log('UPDATE PROPS::', this.props);\n    console.log('UPDATE PREV PROPS:', prevProps);\n  }\n  generateSiteMap = async () => {\n    const products = await this.getAllProducts();\n    // const generated = await this.props.createSiteMap();\n    // console.log('GENERATED::', generated);\n  };\n  getAllProducts = async () => {\n    const { currEndCursor } = this.props.products;\n    // console.log('THE END CURSOR::', currEndCursor);\n    const {\n      data: {\n        admin_products: { pageInfo }\n      }\n    } = await this.props.loadMore(250, currEndCursor);\n    if (pageInfo.hasNextPage) {\n      return this.getAllProducts();\n    } else {\n      // console.log('THE PROPS;:::', this.props.admin_products);\n      const { edges } = this.props.admin_products;\n      // console.log('EDGES::', edges);\n      this.generateProductsConfig(edges);\n    }\n  };\n  generateProductsConfig = async products => {\n    const path = ['/product/:vendor_name/:product_name/:category'];\n    // console.log('PRODUCTS::', products);\n    const pathFormater = string =>\n      string\n        .split(' ')\n        .join('-')\n        .toLowerCase();\n    const configReducer = (data, config) => {\n      return data.reduce((accum, { node }) => {\n        accum = [...accum, config(node, accum)];\n        return accum;\n      }, []);\n    };\n    // const singleProductConfig = products.reduce((accum, { node }) => {\n    //   // console.log('CURR::', node);\n    //   accum = [\n    //     ...accum,\n    //     { vendor_name: pathFormater(node.vendor), product_name: node.handle, category: pathFormater(node.productType) }\n    //   ];\n    //   // console.log('ACCUM LENGTH', accum, accum.length);\n    //   return accum;\n    // }, []);\n    const vendorConfig = async data => {\n      let config = [];\n      await configReducer(data, (node, accum) => {\n        const vendor = {\n          vendor_name: pathFormater(node.vendor)\n        };\n        // console.log('CONFIG::', config);\n        if (accum.length > 0) {\n          // console.log('accuMMMM: ', accum);\n          accum.map(({ vendor_name }) => {\n            if (config.length == 0) {\n              console.log('LENGTH IS ZEROO');\n              config.push(vendor);\n            } else {\n              console.log('CONFIG :::: HEREOOOO', config);\n              config.map(_config => {\n                if (_config.vendor_name == vendor_name) {\n                  return;\n                } else {\n\n                  // config.push(vendor);\n                }\n              });\n            }\n          });\n        }\n        return vendor;\n      });\n      // console.log('CONFIG:::::', config);\n      return config;\n    };\n    const result = await vendorConfig(products);\n    console.log('VENDOR CONFIG::', result);\n    // const config = {\n    //   '/product/:vendor_name/:product_name/:category': singleProductConfig\n    // };\n    // const paths = applyParams(path, config);\n    // console.log('PATHS::', config);\n  };\n  render() {\n    const { productsLoading, admin_products } = this.props;\n    console.log('ADMIN PRODUCTS::', admin_products);\n\n    return (\n      <section>\n        <div>SiteMap</div>\n        <button onClick={this.generateSiteMap}>Create Site Map</button>\n      </section>\n    );\n  }\n}\nSiteMapGenerator.propTypes = {\n  createSiteMap: PropTypes.func,\n  admin_products: PropTypes.object,\n  productsLoading: PropTypes.bool\n};\n","import React from 'react';\nimport { CookiesProvider } from 'react-cookie';\nimport { NavLink, withRouter } from 'react-router-dom';\n\nimport translate from '../../i18n';\nimport access from './access';\nimport resolvers from './resolvers';\nimport resources from './locales';\n// import ProfileView from './components/ProfileView';\nimport { MenuItem } from '../../modules/common/components/web';\nimport Users from './containers/Users';\n// import UserEdit from './containers/UserEdit';\n// import UserAdd from './containers/UserAdd';\nimport Register from './containers/Register';\nimport Login from './containers/Login';\n// import ForgotPassword from './containers/ForgotPassword';\n// import ResetPassword from './containers/ResetPassword';\n\nimport { AuthRoute, IfLoggedIn, IfNotLoggedIn, /*withLoadedUser,*/ withLogout } from './containers/Auth';\n\nimport Feature from '../connector';\n\n// const ProfileName = withLoadedUser(\n//   ({ currentUser }) => (currentUser ? currentUser.fullName || currentUser.username : null)\n// );\n\nconst LogoutLink = withRouter(\n  withLogout(({ logout, history }) => (\n    <a\n      href=\"javascript:void(0)\"\n      onClick={e => {\n        e.preventDefault();\n        (async () => {\n          await logout();\n          history.push('/');\n        })();\n      }}\n      className=\"nav-link\"\n    >\n      Logout\n    </a>\n  ))\n);\n\nexport * from './containers/Auth';\n\nconst NavLinkUsersWithI18n = translate('user')(({ t }) => (\n  <NavLink to=\"/users\" className=\"nav-link\" activeClassName=\"active\">\n    {t('navLink.users')}\n  </NavLink>\n));\nconst NavLinkLoginWithI18n = translate('user')(({ t }) => (\n  <NavLink to=\"/login\" className=\"nav-link\" activeClassName=\"active\">\n    {t('navLink.sign')}\n  </NavLink>\n));\n\nexport default new Feature(access, {\n  route: [\n    // <AuthRoute exact path=\"/profile\" role={['user', 'admin']} redirect=\"/login\" component={ProfileView} />,\n    // <AuthRoute exact path=\"/admin/users\" component={Users} />,\n    // <AuthRoute exact path=\"/users/new\" role={['admin']} component={UserAdd} />,\n    // <AuthRoute path=\"/users/:id\" redirect=\"/profile\" role={['user', 'admin']} component={UserEdit} />,\n    <AuthRoute exact path=\"/register\" redirectOnLoggedIn redirect=\"/admin/dashboard\" component={Register} />,\n    <AuthRoute\n      exact\n      path=\"/admin/login\"\n      redirectOnLoggedIn\n      redirect=\"/admin/dashboard\"\n      component={withRouter(({ history }) => (\n        <Login onLogin={() => history.push('/admin/dashboard')} />\n      ))}\n    />\n    // <AuthRoute exact path=\"/forgot-password\" redirectOnLoggedIn redirect=\"/profile\" component={ForgotPassword} />,\n    // <AuthRoute exact path=\"/reset-password/:token\" redirectOnLoggedIn redirect=\"/profile\" component={ResetPassword} />\n  ],\n  // navItem: [\n  //   <IfLoggedIn key=\"/users\" role=\"admin\">\n  //     <MenuItem>\n  //       <NavLinkUsersWithI18n />\n  //     </MenuItem>\n  //   </IfLoggedIn>\n  // ],\n  // navItemRight: [\n  //   // <IfLoggedIn key=\"/profile\">\n  //   //   <MenuItem>\n  //   //     <NavLink to=\"/profile\" className=\"nav-link\" activeClassName=\"active\">\n  //   //       <ProfileName />\n  //   //     </NavLink>\n  //   //   </MenuItem>\n  //   // </IfLoggedIn>,\n  //   <IfLoggedIn key=\"/logout\">\n  //     <MenuItem>\n  //       <LogoutLink />\n  //     </MenuItem>\n  //   </IfLoggedIn>,\n  //   <IfNotLoggedIn key=\"/login\">\n  //     <MenuItem>\n  //       <NavLinkLoginWithI18n />\n  //     </MenuItem>\n  //   </IfNotLoggedIn>\n  // ],\n  resolver: resolvers,\n  localization: { ns: 'user', resources },\n  // eslint-disable-next-line react/display-name\n  rootComponentFactory: req => (req ? <CookiesProvider cookies={req.universalCookies} /> : <CookiesProvider />)\n});\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA;AAAA;AACA;AADA;AACA;AADA;AACA;AADA;AAWA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AACA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAXA;AAgBA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAHA;AAAA;AACA;AADA;AAAA;AAKA;AACA;AANA;AAAA;AAAA;AAAA;AACA;AADA;AACA;AADA;AAWA;AACA;AACA;AACA;AAAA;AACA;AAfA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAjBA;AAAA;AAiCA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAIA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAvBA;AAuBA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAGA;AACA;AADA;AAGA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA5BA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAxBA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAsDA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AA7DA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAlCA;AAAA;AAAA;AAAA;AACA;AACA;AAFA;AAGA;AACA;;;AAAA;AACA;AACA;;;AACA;AACA;AACA;AACA;;;AAqFA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAFA;AAKA;;;;AA1GA;AACA;AADA;AACA;AA2GA;AACA;AACA;AACA;AAHA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAEA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AATA;AAAA;AAAA;AADA;AACA;AAgBA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AADA;AADA;AAKA;AAAA;AAAA;AACA;AAAA;AACA;AADA;AADA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AADA;AALA;AASA;AACA;AAhBA;AAkBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAhDA;;;;A","sourceRoot":""}