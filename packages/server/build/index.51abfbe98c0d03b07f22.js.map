{"version":3,"file":"index.df3b2513bdfb6f3938b2.hot-update.js","sources":["/Users/austinreynolds/Documents/MOD/chf-rcomm/packages/client/src/modules/admin/components/Locations/index.js","/Users/austinreynolds/Documents/MOD/chf-rcomm/packages/client/src/modules/user/index.web.jsx"],"sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport { Formik, Field, FieldArray, Form } from 'formik';\nimport { Table, Button } from '../../../common/components/web';\n\n// import FormCreator from '../FormCreator';\n// import Text from '../FormCreator/FormTypes/Text';\nimport DealerForm from './Form';\n//\n// const LocationForm = new FormCreator({\n//   field: [<Text />]\n// });\nconst SelectLocationString = 'Please select a location';\nconst AddDealer = props => {\n  return (\n    <Formik\n      enableReinitialize={true}\n      initialValues={{ name: '' }}\n      validateOnBlur={true}\n      // validate={validateAll}\n      validateOnChange={false}\n      onSubmit={async ({ name, ...values }, actions) => {\n        console.log('Values::', values);\n        console.log('ACTIONS::', actions);\n        const dealer = await props.updateDealer({\n          name,\n          handle: name\n            .split(' ')\n            .join('-')\n            .toLowerCase(),\n          ...values\n        });\n        // props.handleInitialLocation(dealer.name);\n        // console.log('DEALER:::', dealer);\n\n        // try {\n        //   switch (selectedCategory) {\n        //     case 'products':\n        //       await uploadSeoContent({ handle: selectedProduct, ...values });\n        //\n        //       break;\n        //     case 'brands':\n        //       await uploadSeo({ path: 'vendor', handle: selectedBrand, seo: { ...values } });\n        //       break;\n        //     case 'collections':\n        //       await uploadSeo({ path: 'collection', handle: selectedCollection, seo: { ...values } });\n        //       break;\n        //     default:\n        //       return;\n        //   }\n        // } catch (e) {\n        //   console.log('ERROR:', e);\n        // }\n        // MyImaginaryRestApiCall(user.id, values).then(\n        // updatedUser => {\n        actions.setSubmitting(false);\n        // updateUser(updatedUser);\n        // onClose();\n        // },\n        // error => {\n        // actions.setSubmitting(false);\n        // actions.setErrors(transformMyRestApiErrorsToAnObject(error));\n        // actions.setStatus({ msg: 'Set some arbitrary status or data' });\n        // }\n        // );\n      }}\n      render={({ errors, status, touched, isSubmitting, isValid }) => {\n        return (\n          <Form className=\"admin__form__seo\">\n            <div className=\"admin__form__seo--field\">\n              <label htmlFor=\"Location\"> Please add your first location</label>\n              <Field className=\"admin__form__seo--input\" type=\"text\" name=\"name\" placeholder=\"Name\" />\n              {errors.title && touched.title && <div className=\"admin__form__seo--error\">{errors.name}</div>}\n            </div>\n            {status && status.msg && <div className=\"admin__form__seo--status\">{status.msg}</div>}\n\n            <button type=\"submit\" disabled={isSubmitting}>\n              Submit\n            </button>\n          </Form>\n        );\n      }}\n    />\n  );\n};\nconst columns = [\n  {\n    title: (\n      <a href=\"#\">\n        {/* {t('users.column.name')} {this.renderOrderByArrow('username')} */}\n        Name\n      </a>\n    ),\n    dataIndex: 'node',\n    key: 'name',\n    render: (text, record) => {\n      console.log('TEXT HERE ::', text, 'RECORD::', record);\n      return <div>{text}</div>\n    }\n  }\n]\nexport default class LocationsView extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedLocation: SelectLocationString\n    };\n  }\n  componentDidMount() {\n    console.log('MOUNTING PROPS::', this.props);\n    // this.setState({ selectedLocation: dealers.edges[0].node.name });\n  }\n  componentDidUpdate(prevProps, prevState) {\n    if (this.props.dealers) {\n      console.log('WE HAVE DEALERS');\n    }\n    if (prevProps.loadingDealers !== this.props.loadingDealers) {\n      const { dealers } = this.props;\n      console.log('COMPONENT DID UPDATE::', dealers.edges[0].node);\n      this.setState({ selectedLocation: dealers.edges[0].node.name })\n    }\n    return;\n  }\n  handleSelectedLocation = e => {\n    return this.setState({ selectedLocation: e.target.value });\n  };\n  handleInitialLocation = location => {\n    console.log('LOCATION::', location);\n    this.setState({ selectedLocation: location });\n  };\n  render() {\n    const { selectedLocation } = this.state;\n    const { loadingDealers, dealers } = this.props;\n    if (loadingDealers) {\n      return <div>Loading</div>;\n    }\n    /*\n    {dealers.edges.length == 0 ? (\n      <AddDealer {...this.state} {...this.props} />\n    ) : (\n      <DealerForm {...this.state} {...this.props} />\n    )}\n\n    */\n    console.log('THE RENDER PROPS:::', dealers.edges.length);\n    return (\n      <div className={'admin__page__view'}>\n        <Table dataSource={dealers.edges} columns={columns} />\n      </div>\n    );\n  }\n}\n\nLocationsView.propTypes = {\n  children: PropTypes.node,\n  updateDealer: PropTypes.func\n};\n","import React from 'react';\nimport { CookiesProvider } from 'react-cookie';\nimport { NavLink, withRouter } from 'react-router-dom';\n\nimport translate from '../../i18n';\nimport access from './access';\nimport resolvers from './resolvers';\nimport resources from './locales';\n// import ProfileView from './components/ProfileView';\nimport { MenuItem } from '../../modules/common/components/web';\n// import Users from './containers/Users';\n// import UserEdit from './containers/UserEdit';\n// import UserAdd from './containers/UserAdd';\nimport Register from './containers/Register';\nimport Login from './containers/Login';\n// import ForgotPassword from './containers/ForgotPassword';\n// import ResetPassword from './containers/ResetPassword';\n\nimport { AuthRoute, IfLoggedIn, IfNotLoggedIn, /*withLoadedUser,*/ withLogout } from './containers/Auth';\n\nimport Feature from '../connector';\n\n// const ProfileName = withLoadedUser(\n//   ({ currentUser }) => (currentUser ? currentUser.fullName || currentUser.username : null)\n// );\n\nconst LogoutLink = withRouter(\n  withLogout(({ logout, history }) => (\n    <a\n      href=\"javascript:void(0)\"\n      onClick={e => {\n        e.preventDefault();\n        (async () => {\n          await logout();\n          history.push('/');\n        })();\n      }}\n      className=\"nav-link\"\n    >\n      Logout\n    </a>\n  ))\n);\n\nexport * from './containers/Auth';\n\nconst NavLinkUsersWithI18n = translate('user')(({ t }) => (\n  <NavLink to=\"/users\" className=\"nav-link\" activeClassName=\"active\">\n    {t('navLink.users')}\n  </NavLink>\n));\nconst NavLinkLoginWithI18n = translate('user')(({ t }) => (\n  <NavLink to=\"/login\" className=\"nav-link\" activeClassName=\"active\">\n    {t('navLink.sign')}\n  </NavLink>\n));\n\nexport default new Feature(access, {\n  route: [\n    // <AuthRoute exact path=\"/profile\" role={['user', 'admin']} redirect=\"/login\" component={ProfileView} />,\n    // <AuthRoute exact path=\"/users\" redirect=\"/profile\" role=\"admin\" component={Users} />,\n    // <AuthRoute exact path=\"/users/new\" role={['admin']} component={UserAdd} />,\n    // <AuthRoute path=\"/users/:id\" redirect=\"/profile\" role={['user', 'admin']} component={UserEdit} />,\n    <AuthRoute exact path=\"/register\" redirectOnLoggedIn redirect=\"/admin/dashboard\" component={Register} />,\n    <AuthRoute\n      exact\n      path=\"/admin/login\"\n      redirectOnLoggedIn\n      redirect=\"/admin/dashboard\"\n      component={withRouter(({ history }) => (\n        <Login onLogin={() => history.push('/admin/dashboard')} />\n      ))}\n    />,\n    // <AuthRoute exact path=\"/forgot-password\" redirectOnLoggedIn redirect=\"/profile\" component={ForgotPassword} />,\n    // <AuthRoute exact path=\"/reset-password/:token\" redirectOnLoggedIn redirect=\"/profile\" component={ResetPassword} />\n  ],\n  // navItem: [\n  //   <IfLoggedIn key=\"/users\" role=\"admin\">\n  //     <MenuItem>\n  //       <NavLinkUsersWithI18n />\n  //     </MenuItem>\n  //   </IfLoggedIn>\n  // ],\n  // navItemRight: [\n  //   // <IfLoggedIn key=\"/profile\">\n  //   //   <MenuItem>\n  //   //     <NavLink to=\"/profile\" className=\"nav-link\" activeClassName=\"active\">\n  //   //       <ProfileName />\n  //   //     </NavLink>\n  //   //   </MenuItem>\n  //   // </IfLoggedIn>,\n  //   <IfLoggedIn key=\"/logout\">\n  //     <MenuItem>\n  //       <LogoutLink />\n  //     </MenuItem>\n  //   </IfLoggedIn>,\n  //   <IfNotLoggedIn key=\"/login\">\n  //     <MenuItem>\n  //       <NavLinkLoginWithI18n />\n  //     </MenuItem>\n  //   </IfNotLoggedIn>\n  // ],\n  resolver: resolvers,\n  localization: { ns: 'user', resources },\n  // eslint-disable-next-line react/display-name\n  rootComponentFactory: req => (req ? <CookiesProvider cookies={req.universalCookies} /> : <CookiesProvider />)\n});\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAJA;AAMA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAFA;AAAA;AAIA;AACA;AAFA;AACA;AAJA;AAGA;AACA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA5CA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AA6CA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAHA;AAKA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AARA;AAaA;AAlEA;AAqEA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAKA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAZA;AACA;AAcA;;;AACA;AAAA;AACA;AADA;AACA;AADA;AAsBA;AACA;AACA;AAxBA;AAyBA;AACA;AACA;AACA;AA1BA;AACA;AADA;AAFA;AAKA;AACA;;;AAAA;AACA;AACA;AACA;;;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAQA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;;;;;;;AAQA;AACA;AACA;AAAA;AACA;AADA;AAIA;;;;AAjDA;AACA;AADA;AACA;AACA;AAkDA;AACA;AACA;AAFA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC1JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAEA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AATA;AAAA;AAAA;AADA;AACA;AAgBA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AADA;AADA;AAKA;AAAA;AAAA;AACA;AAAA;AACA;AADA;AADA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AADA;AALA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAhDA;;;;A","sourceRoot":""}