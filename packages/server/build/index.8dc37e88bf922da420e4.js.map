{"version":3,"file":"index.5970bf21cb1a429f86ad.hot-update.js","sources":["src/modules/dealers/resolvers.js"],"sourcesContent":["const defaultDealer = {\n  id: '0',\n  handle: '',\n  name: ' ',\n  street: ' ',\n  suite: ' ',\n  city: ' ',\n  zip: ' ',\n  state: ' ',\n  country: ' ',\n  email: ' ',\n  phone: null,\n  website: ' ',\n  lat: ' ',\n  lng: ' '\n};\n/*eslint-disable no-unused-vars*/\nexport default pubsub => ({\n  Query: {\n    async dealers(obj, _, { Dealers }) {\n      const edgesArray = [];\n      try {\n        const dealers = await Dealers.get.dealers();\n        console.log('DEALERS', dealers);\n        const updated = dealers.hasOwnProperty('isUpdated');\n        console.log('UPDATED::', updated);\n        if (updated) {\n          return {\n            dealers_count: 0,\n            edges: [{ node: null, cursor: null }],\n            dealer_info: { hasNextPage: false, end_cursor: 0 }\n          };\n        } else if (dealers.length == 0) {\n          console.log('LENGTH WAS ZERO::', dealers);\n          return {\n            dealers_count: 0,\n            edges: [{ node: null, cursor: null }],\n            dealer_info: { hasNextPage: false, end_cursor: 0 }\n          };\n        } else {\n          const edgesArray = [];\n          dealers.map(dealer => edgesArray.push({ node: dealer }));\n          console.log('dealers');\n          return {\n            dealers_count: dealers.length,\n            edges: edgesArray\n            // dealer_info: { hasNextPage: false, end_cursor: 0 }\n          };\n        }\n      } catch (e) {\n        console.log('ERROR ON DEALERS:', e);\n      }\n    },\n    async dealerByHandle(obj, input, { Dealers }) {\n      try {\n        const handle = input.handle;\n        const dealer = await Dealers.get.dealerByHandle({ handle });\n\n        if (typeof dealer == 'undefined' || !dealer) {\n          console.log('DEALER IF', defaultDealer);\n          return defaultDealer; //{ dealerByHandle: defaultDealer };\n        }\n        console.log('WHY RETURN HERE YET::', dealer);\n        return { dealerByHandle: dealer };\n      } catch (e) {\n        console.log('ERR GETTING DEALER:', e);\n        return e;\n      }\n    }\n  },\n  Mutation: {\n    async updateDealer(obj, { dealer }, { Dealers }) {\n      const data = dealer;\n      try {\n        console.log('UPDATE DEALER INPUT::', data);\n\n        const dealer = await Dealers.insertOrUpdate.updateDealer(data);\n        console.log('DEALER RETURN ::', dealer);\n        return dealer;\n      } catch (e) {\n        console.log('ERROR::', e);\n      }\n    }\n  },\n  Subscription: {}\n});\n"],"mappings":";;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAdA;AAgBA;AACA;AAAA;AACA;AACA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAGA;AACA;AAAA;AACA;AACA;AAAA;AACA;AAPA;AAAA;AAAA;AAAA;AACA;AADA;AASA;AACA;AACA;AAHA;AACA;AATA;AAAA;AAAA;AAAA;AAAA;AACA;AAaA;AAdA;AAgBA;AACA;AACA;AAHA;AACA;AAhBA;AAqBA;AACA;AAAA;AAAA;AAAA;AACA;AAvBA;AAyBA;AACA;AACA;AAHA;AACA;AAzBA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AA8BA;AACA;AAhCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAiCA;AACA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAFA;AAAA;AACA;AADA;AAGA;AACA;AAJA;AAAA;AAAA;AAAA;AACA;AAKA;AANA;AACA;AADA;AASA;AATA;AACA;AADA;AAAA;AAAA;AACA;AAWA;AAZA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAeA;AAlDA;AAoDA;AACA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AACA;AAEA;AACA;AAJA;AAAA;AACA;AADA;AAKA;AACA;AAAA;AANA;AACA;AADA;AAAA;AAAA;AACA;AAQA;AACA;AAVA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWA;AAZA;AAcA;AAnEA;AAAA;;;;A","sourceRoot":""}